## LAB05-1. Основы работы в командной строке

1. С помощью механизма дополнения имен команд выведите все команды, которые начинаются на «**ls**».

2. С помощью механизма дополнения имен переменных выведите все переменные, которые начинаются с «**HIST**».

3. Узнайте, сколько команд может храниться в файле истории.

4. Выведите имена файлов и каталогов из домашнего каталога, которые начинаются с «**.c**».

5. Настройте вывод даты выполнения команд, хранящихся в истории.

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

6. Настройте автоматическое сохранение набираемых команд в файле истории:

- введите любую команду, например, команду **date**;
- проверьте, есть ли эта команда в кэше и файле истории команд;
- определите переменную **PROMPT_COMMAND** так, чтобы кэш истории сохранялся в файле истории;
- введите любую команду и проверьте,  появилась ли эта команда в кэше и файле истории.

7. Создайте переменную **DATE**, в которую запишите текущую дату. Проверьте содержимое переменной.

8. Создайте переменную **TIME**, в которую запишите текущее время. Проверьте содержимое переменной.

9. Создайте переменную **DATE_TIME**, в которую поместите значения из переменных DATE и TIME, разделенных пробелом. Проверьте содержимое переменной.

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

10. Выведите имена файлов, содержащие хотя бы одну цифру, из каталогов **/bin** и **/sbin**.

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

11. Сделайте так, чтобы при выполнении команды **sudo vipw** автоматически вызывался редактор **mcedit**.

12. Измените приглашение так, чтобы выводились имя хоста, имя пользователя и время:

Используйте переменные bash и команду date.

- Запустите еще один bash. Какой вид у приглашения и почему?
- Выйдите из запущенного командного интерпретатора bash.

13. Сделайте так, чтобы в запускаемом интерпретаторе bash выводилось приглашение, установленное в родительском интерпретаторе bash.

14. Одной командной строкой создайте в домашнем каталоге подкаталоги для каждого месяца текущего года вида YYYY-MM (год реализуйте с помощью команды **date** и командной подстановки).

15. Постарайтесь сократить запись команды предыдущего задания, используя свойство bash — дописывать лидирующие нули при перечислении.


## Решение

1. С помощью механизма дополнения имен команд выведите все команды, которые начинаются на «**ls**».

```bash
ls
```

2. С помощью механизма дополнения имен переменных выведите все переменные, которые начинаются с «**HIST**».


```bash
echo $HIST<TAB><TAB>
```

3. Узнайте, сколько команд может храниться в файле истории.

```bash
echo $HISTFILESIZE
```

4. Выведите имена файлов и каталогов из домашнего каталога, которые начинаются с «**.c**».

```bash
echo ~/.c*
```

5. Настройте вывод даты выполнения команд, хранящихся в истории.

```bash
HISTTIMEFORMAT=¨%D ¨
history
```

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

6. Настройте автоматическое сохранение набираемых команд в файле истории:

- введите любую команду, например, команду **date**;
- проверьте, есть ли эта команда в кэше и файле истории команд;

```bash
history
tail ~/.bash_history
```

- определите переменную **PROMPT_COMMAND** так, чтобы кэш истории сохранялся в файле истории;

```bash
PROMPT_COMMAND=´history -a´
```

- введите любую команду и проверьте,  появилась ли эта команда в кэше и файле истории.

```bash
ls
history
tail ~/.bash_history
```

7. Создайте переменную **DATE**, в которую запишите текущую дату. Проверьте содержимое переменной.

```bash
DATE=$(date +%d-%m-%Y)
echo $DATE
```

8. Создайте переменную **TIME**, в которую запишите текущее время. Проверьте содержимое переменной.

```bash
TIME=$(date +%T)
echo $TIME
```

9. Создайте переменную **DATE_TIME**, в которую поместите значения из переменных DATE и TIME, разделенных пробелом. Проверьте содержимое переменной.

```bash
DATE_TIME="$DATE $TIME"
echo $DATE_TIME
```

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

10. Выведите имена файлов, содержащие хотя бы одну цифру, из каталогов **/bin** и **/sbin**.

```bash
echo /{s,}bin/*[0-9]*
```

>***Screenshot:***
>
>Cделайте скриншот экрана c результатом выполнения задания для отправки отчета.

11. Сделайте так, чтобы при выполнении команды **sudo vipw** автоматически вызывался редактор **mcedit**.

```bash
export EDITOR=mcedit
sudo vipw
```

12. Измените приглашение так, чтобы выводились имя хоста, имя пользователя и время:

```bash
имя_пользователя@имя_хоста-HH:MM>
```

Используйте переменные bash и команду date.

```bash
PS1='\u@\h-$(date +%H:%M)> '
```

- Запустите еще один bash. Какой вид у приглашения и почему?
- Выйдите из запущенного командного интерпретатора bash.

13. Сделайте так, чтобы в запускаемом интерпретаторе bash выводилось приглашение, установленное в родительском интерпретаторе bash.

```bash
export PS1
bash --norc
```

14. Одной командной строкой создайте в домашнем каталоге подкаталоги для каждого месяца текущего года вида YYYY-MM (год реализуйте с помощью команды **date** и командной подстановки).

```bash
mkdir $(date +%Y)-0{1..9} $(date +%Y)-1{0..2}
```

15. Постарайтесь сократить запись команды предыдущего задания, используя свойство bash — дописывать лидирующие нули при перечислении.

```bash
mkdir $(date +%Y)-{01..12}
```
